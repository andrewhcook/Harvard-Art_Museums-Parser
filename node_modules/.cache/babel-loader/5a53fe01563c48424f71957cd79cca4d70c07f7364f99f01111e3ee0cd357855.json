{"ast":null,"code":"import _regeneratorRuntime from\"/home/ahc/personalProjects2023/ArtCollector2.0/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/ahc/personalProjects2023/ArtCollector2.0/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var BASE_URL='https://api.harvardartmuseums.org';export var KEY='apikey=a6d45e52-c980-4ea4-b1e0-a77e2e34a25c';//work on these api calls!\nexport function fetchQueryResults(_x){return _fetchQueryResults.apply(this,arguments);}function _fetchQueryResults(){_fetchQueryResults=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref){var century,classification,queryString,url,response,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:century=_ref.century,classification=_ref.classification,queryString=_ref.queryString;url=\"\".concat(BASE_URL,\"/object?\").concat(KEY,\"&classification=\").concat(classification,\"&century=\").concat(century,\"&keyword=\").concat(queryString);_context2.next=4;return fetch(url);case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:data=_context2.sent;return _context2.abrupt(\"return\",data);case 9:case\"end\":return _context2.stop();}},_callee2);}));return _fetchQueryResults.apply(this,arguments);}export var fetchQueryResultsFromURL=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(url){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;return _context.abrupt(\"return\",data);case 7:case\"end\":return _context.stop();}},_callee);}));return function fetchQueryResultsFromURL(_x2){return _ref2.apply(this,arguments);};}();export function fetchAllCenturies(){return _fetchAllCenturies.apply(this,arguments);}function _fetchAllCenturies(){_fetchAllCenturies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var url,response,_yield$response$json,records;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!localStorage.getItem('centuries')){_context3.next=2;break;}return _context3.abrupt(\"return\",JSON.parse(localStorage.getItem('centuries')));case 2:url=\"\".concat(BASE_URL,\"/century?\").concat(KEY,\"&size=100&sort=temporalorder\");_context3.next=5;return fetch(url);case 5:response=_context3.sent;_context3.next=8;return response.json();case 8:_yield$response$json=_context3.sent;records=_yield$response$json.records;localStorage.setItem('centuries',JSON.stringify(records));return _context3.abrupt(\"return\",records);case 12:case\"end\":return _context3.stop();}},_callee3);}));return _fetchAllCenturies.apply(this,arguments);}export function fetchQueryResultsFromTermAndValue(_x3,_x4){return _fetchQueryResultsFromTermAndValue.apply(this,arguments);}function _fetchQueryResultsFromTermAndValue(){_fetchQueryResultsFromTermAndValue=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(term,value){var response,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(BASE_URL,\"/object?\").concat(KEY,\"&\").concat(term,\"=\").concat(encodeURI(value.split('-').join('|'))));case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;return _context4.abrupt(\"return\",data);case 7:case\"end\":return _context4.stop();}},_callee4);}));return _fetchQueryResultsFromTermAndValue.apply(this,arguments);}export function fetchAllClassifications(){return _fetchAllClassifications.apply(this,arguments);}function _fetchAllClassifications(){_fetchAllClassifications=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var url,response,_yield$response$json2,records;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:if(!localStorage.getItem('classifications')){_context5.next=2;break;}return _context5.abrupt(\"return\",JSON.parse(localStorage.getItem('classifications')));case 2:url=\"\".concat(BASE_URL,\"/classification?\").concat(KEY,\"&size=100&sort=name\");_context5.next=5;return fetch(url);case 5:response=_context5.sent;_context5.next=8;return response.json();case 8:_yield$response$json2=_context5.sent;records=_yield$response$json2.records;localStorage.setItem('classifications',JSON.stringify(records));return _context5.abrupt(\"return\",records);case 12:case\"end\":return _context5.stop();}},_callee5);}));return _fetchAllClassifications.apply(this,arguments);}","map":{"version":3,"names":["BASE_URL","KEY","fetchQueryResults","century","classification","queryString","url","fetch","response","json","data","fetchQueryResultsFromURL","fetchAllCenturies","localStorage","getItem","JSON","parse","records","setItem","stringify","fetchQueryResultsFromTermAndValue","term","value","encodeURI","split","join","fetchAllClassifications"],"sources":["/home/ahc/personalProjects2023/ArtCollector2.0/src/api/requests.js"],"sourcesContent":["export const BASE_URL = 'https://api.harvardartmuseums.org';\nexport const KEY = 'apikey=a6d45e52-c980-4ea4-b1e0-a77e2e34a25c';\n\n//work on these api calls!\n\nexport async function fetchQueryResults({\n    century,\n    classification,\n    queryString,\n  }) {\n    const url = `${BASE_URL}/object?${KEY}&classification=${classification}&century=${century}&keyword=${queryString}`;\n  \n    const response = await fetch(url);\n    const data = await response.json();\n  \n    return data;\n  }\n\nexport const fetchQueryResultsFromURL = async (url)=> {\n    const response = await fetch(url);\n    const data = await response.json();\n    return data;\n  }\n\n\n\n  export async function fetchAllCenturies() {\n    if (localStorage.getItem('centuries')) {\n      return JSON.parse(localStorage.getItem('centuries'));\n    }\n  \n    const url = `${BASE_URL}/century?${KEY}&size=100&sort=temporalorder`;\n  \n    const response = await fetch(url);\n    const { records } = await response.json();\n  \n    localStorage.setItem('centuries', JSON.stringify(records));\n  \n    return records;\n  }\n\n  export async function fetchQueryResultsFromTermAndValue(term, value) {\n    const response = await fetch(`${BASE_URL}/object?${KEY}&${term}=${encodeURI(value.split('-').join('|'))}`);\n    const data = await response.json();\n  \n    return data;\n  }\n\n\n  export async function fetchAllClassifications() {\n    if (localStorage.getItem('classifications')) {\n      return JSON.parse(localStorage.getItem('classifications'));\n    }\n  \n    const url = `${BASE_URL}/classification?${KEY}&size=100&sort=name`;\n  \n    const response = await fetch(url);\n    const { records } = await response.json();\n  \n    localStorage.setItem('classifications', JSON.stringify(records));\n  \n    return records;\n  }"],"mappings":"wRAAA,MAAO,IAAMA,SAAQ,CAAG,mCAAmC,CAC3D,MAAO,IAAMC,IAAG,CAAG,6CAA6C,CAEhE;AAEA,eAAsBC,kBAAiB,sDAWpC,2GAXI,sMACHC,OAAO,MAAPA,OAAO,CACPC,cAAc,MAAdA,cAAc,CACdC,WAAW,MAAXA,WAAW,CAELC,GAAG,WAAMN,QAAQ,oBAAWC,GAAG,4BAAmBG,cAAc,qBAAYD,OAAO,qBAAYE,WAAW,yBAEzFE,MAAK,CAACD,GAAG,CAAC,QAA3BE,QAAQ,uCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,iDAEHA,IAAI,yDACZ,oDAEH,MAAO,IAAMC,yBAAwB,6FAAG,iBAAOL,GAAG,2JACvBC,MAAK,CAACD,GAAG,CAAC,QAA3BE,QAAQ,qCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,+CACHA,IAAI,uDACZ,kBAJUC,yBAAwB,8CAIlC,CAID,eAAsBC,kBAAiB,oDAatC,2GAbM,2LACDC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,2DAC5BC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,SAGhDR,GAAG,WAAMN,QAAQ,qBAAYC,GAAG,wDAEfM,MAAK,CAACD,GAAG,CAAC,QAA3BE,QAAQ,uCACYA,SAAQ,CAACC,IAAI,EAAE,4CAAjCQ,OAAO,sBAAPA,OAAO,CAEfJ,YAAY,CAACK,OAAO,CAAC,WAAW,CAAEH,IAAI,CAACI,SAAS,CAACF,OAAO,CAAC,CAAC,CAAC,iCAEpDA,OAAO,0DACf,oDAED,eAAsBG,kCAAiC,2EAKtD,2IALM,kBAAiDC,IAAI,CAAEC,KAAK,gKAC1Cf,MAAK,WAAIP,QAAQ,oBAAWC,GAAG,aAAIoB,IAAI,aAAIE,SAAS,CAACD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAG,QAApGjB,QAAQ,uCACKA,SAAQ,CAACC,IAAI,EAAE,QAA5BC,IAAI,iDAEHA,IAAI,yDACZ,oEAGD,eAAsBgB,wBAAuB,0DAa5C,uHAbM,4LACDb,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,2DAClCC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC,SAGtDR,GAAG,WAAMN,QAAQ,4BAAmBC,GAAG,+CAEtBM,MAAK,CAACD,GAAG,CAAC,QAA3BE,QAAQ,uCACYA,SAAQ,CAACC,IAAI,EAAE,6CAAjCQ,OAAO,uBAAPA,OAAO,CAEfJ,YAAY,CAACK,OAAO,CAAC,iBAAiB,CAAEH,IAAI,CAACI,SAAS,CAACF,OAAO,CAAC,CAAC,CAAC,iCAE1DA,OAAO,0DACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}